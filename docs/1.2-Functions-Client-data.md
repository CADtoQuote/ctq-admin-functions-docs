# Functions - Client data
## To do
- Update functions
- Functions - retrieving client print settings
- Functions - orders

### Notes
Implement transactions for supported languages and translations. If new language is added, translations for every setting has to be added.
If new settings are being added at the same time, supported_languages are being read to get all required translations. That function has to be transaction as well.

## Create organization
### Create new organization
```
createOrganization(data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "company_name": {
      "type": "string"
    },
    "logo": {
      "type": "string",
      "description": "Picture URL"
    },
    "contact": {
      "type": "object",
      "properties": {
        "street_address": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "postal_code": {
          "type": "string"
        },
        "city": {
          "type": "string"
        }
      }
    },
    "currency_code": {
      "type": "string"
    }
  }
}
```
#### Response
```json
{
  "organization_id": "string",
}
```
## General settings
### Get organization's general info
Response depends on data that's been added to organization.
```
getGeneralInfo(organizationId)
```
#### Response
```json json_schema
{
  "type": "object",
  "properties": {
    "company_name": {
      "type": "string"
    },
    "logo": {
      "type": "string",
      "description": "Picture URL"
    },
    "contact": {
      "type": "object",
      "properties": {
        "street_address": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "postal_code": {
          "type": "string"
        },
        "city": {
          "type": "string"
        }
      }
    },
    "currency": {
      "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "symbol": {
            "type": "string"
          }
        }
    },
    "visual_settings": {
      "type": "object",
      "properties": {
        "button_color": {
          "type": "string",
        },
        "corner_roundness": {
          "type": "string",
        }
      }
    },
    "default_language": {
      "type": "object",
      "properties": {
        "en": {
          "type": "object",
          "description": "Language code",
          "properties": {
            "name": {
              "type": "string"
            },
            "native_name": {
              "type": "string"
            }
          }
          }
        }
      },
      "vat": {
          "type": "number"
      },
      "min_order_value": {
          "type": "number"
      },
    "supported_languages": {
    "type": "object",
    "properties": {
      "en": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "native_name": {
            "type": "string"
          }
        },
        "description": "Language code"
    }}
    },
    "orders_count": {
      "type": "object",
      "properties": {
        "new": {
          "type": "number"
        },
        "in_process": {
          "type": "number"
        },
        "pending": {
          "type": "number"
        },
        "total": {
          "type": "number"
        },
        "completed": {
          "type": "number"
        }
      }
    }
  }
}
```
### Update organization's general info
```
updateGeneralInfo(organizationId, data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "company_name": {
      "type": "string"
    },
    "logo": {
      "type": "string",
      "description": "Picture URL"
    },
    "contact": {
      "type": "object",
      "properties": {
        "street_address": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "postal_code": {
          "type": "string"
        },
        "city": {
          "type": "string"
        }
      }
    }
  }
}
```
### Set default currency
```
setDefaultCurrency(organizationId, code)
```
#### code
```json json_schema
{
  "type": "string",
  "description": "Currency code"
}
```
### Get visual settings
```
getVisualSettings(organizationId)
```
#### Response
```json json_schema
{
      "type": "object",
      "properties": {
        "button_color": {
          "type": "string",
        },
        "corner_roundness": {
          "type": "string",
        }
      }
    }
```
### Get supported countries for shipping
```
getSupportedCountries(organizationId)
```
#### Response
```json json_schema
{
  "type": "array",
  "items": {
    "type": "object",
     "properties": {
       "code": {
         "type": "string"
       },
       "name": {
         "type": "string"
       },
       "shipping_zone": {
         "type": "string"
       },
       "vat": {
         "type": "number"
       },
       "translations": {
          "type": "object",
          "properties": {
            "es": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                }
              },
              "description": "Language code"
            }
          }
          }
     }
    }
  }
}
```
### Add supported country for shipping
```
addSupportedCountry(organizationId, data)
```
#### data
```json json_schema
{
    "type": "object",
     "properties": {
       "code": {
         "type": "string"
       },
       "shipping_zone": {
         "type": "string"
       },
       "vat": {
         "type": "number"
       }
     }
    }
```
### Remove supported country for shipping
```
removeSupportedCountry(organizationId, code)
```
#### code
```json json_schema
{
  "type": "string",
  "description": "Country code"
}
```
### Add shipping option
```
addShippingOption(organizationId, data)
```
#### data
```json json_schema
{
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "units": {
            "type": "string",
            "example": "Business Days"
          },
          "min": {
            "type": "number"
          },
          "max": {
            "type": "number"
          },
          "price": {
            "type": "number"
          },
          "shipping_zone": {
            "type": "string"
          },
          "translations": {
            "type": "object",
            "properties": {
              "es": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "units": {
                    "type": "string"
                  }
                },
                "description": "Language code"
              }
            }
            }
            }
}
```
### Get shipping options
```
getShippingOptions(organizationId)
```
#### Response
```json json_schema
{
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "units": {
            "type": "string",
            "example": "Business Days"
          },
          "min": {
            "type": "number"
          },
          "max": {
            "type": "number"
          },
          "price": {
            "type": "number"
          },
          "shipping_zone": {
            "type": "string"
          },
          "translations": {
            "type": "object",
            "properties": {
              "es": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "units": {
                    "type": "string"
                  }
                },
                "description": "Language code"
              }
            }
          }
        }
      }
}
```
### Set min order value
```
setMinOrderValue(organizationId, value)
```
#### value
```json json_schema
{
  "type": "number",
}
```
### Set home vat value
```
setVat(organizationId, value)
```
#### value
```json json_schema
{
  "type": "number",
}
```
### Set visual settings
```
setVisualSettings(organizationId, data)
```
#### data
```json json_schema
{
      "type": "object",
      "properties": {
        "button_color": {
          "type": "string",
        },
        "corner_roundness": {
          "type": "string",
        }
      }
    }
```
### Set lead time
```
setLeadTime(organizationId, value)
```
#### value
```json json_schema
{
  "type": "number",
}
```
### Add supported language
```
addSupportedLanguage(organizationId, code)
```
#### code
```json json_schema
{
  "type": "string",
  "description": "Language code"
}
```
### Get supported languages
```
getSupportedLanguages(organizationId)
```
#### Response example
```json
{
  "en": {
    "name": "English",
    "native_name": "English"
  },
  "de": {
    "name": "German",
    "native_name": "Deutsch"
  }
}
```
### Remove supported language
```
removeSupportedLanguages(organizationId, code)
```
#### code
```json json_schema
{
    "type": "string",
    "description": "Language code"
}
```
### Set default language
```
setDefaultLanguage(organizationId, code)
```
#### code
```json json_schema
{
  "type": "string",
  "description": "Language code"
}
```
## Print settings
### Upload picture
```
uploadPicture(organizationId, file)
```
#### Response
```json json_schema
{
  "type": "string",
  "description": "Picture URL"
}
```
### Add process
```
addProcess(organizationId, data)
``` 
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "starting_cost": {
      "type": "number"
    },
    "cost_per_hour": {
      "type": "number"
    },
    "slicer": {
      "type": "string"
    },
          "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
}
```
### Add material
```
addMaterial(organizationId, processId, data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "process_type": {
      "type": "string"
    },
    "status": {
      "type": "string"
    },
    "cost_per_kg": {
      "type": "number"
    },
    "translations": {
      "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
      }
  }
}
```
### Add color
```
addColor(organizationId, processId, materialId, data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "hex_value": {
      "type": "string"
    },
      "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
}
```
### Upload config 
```
uploadConfig(organizationId, file)
```
#### Response
```json json_schema
{
  "type": "string",
  "description": "Storage location",
  "example": "gs://example.appspot.com/path/config.ini"
}
```
### Add quality
```
addQuality(organizationId, processId, data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "config_url": {
      "type": "string"
    },
      "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
}
```
### Add postproduction
```
addPostproduction(organizationId, processId, data)
```
#### data
```json json_schema
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "process_type": {
      "type": "string"
    },
    "cost": {
      "type": "number"
    },
    "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
}
```
### Get processes
```
getOrgProcesses(organizationId)
``` 
#### Response
```json json_schema
{
    "type": "array",
  "items": {
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "starting_cost": {
      "type": "number"
    },
    "cost_per_hour": {
      "type": "number"
    },
    "slicer": {
      "type": "string"
    },
          "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
  }
}
```
### Get materials
```
getOrgMaterials(organizationId, processId)
```
#### Response
```json json_schema
{
  "type": "array",
  "items": {
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "process_type": {
      "type": "string"
    },
    "status": {
      "type": "string"
    },
    "cost_per_kg": {
      "type": "number"
    },
    "translations": {
      "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
      }
  }
  }
}
```
### Get colors
```
getOrgColors(organizationId, processId, materialId)
```
#### data
```json json_schema
{
  "type": "array",
  "items": {
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "hex_value": {
      "type": "string"
    },
      "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
  }
}
```
### Get qualities
```
getOrgQualities(organizationId, processId)
```
#### data
```json json_schema
{
  "type": "array",
  "items": {
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "config_url": {
      "type": "string"
    },
      "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
}
}
```
### Get postproductions
```
getOrgPostproductions(organizationId, processId)
```
#### Response
```json json_schema
{
  "type": "array",
  "items": {
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "pic_url": {
      "type": "string"
    },
    "process_type": {
      "type": "string"
    },
    "cost": {
      "type": "number"
    },
    "translations": {
        "type": "object",
        "properties": {
          "es": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            },
            "description": "Language code"
          }
        }
        }
  }
  }
}
```